---
import MobileSidebar from "@/components/interactive/NavbarMobileSidebar";
import UserMenu from "@/components/interactive/NavbarUserMenu";

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);

const title = "konsisten.id";
const navigation = [
    {
        title: "Dashboard",
        href: "/",
        isActive: currentPath === "",
    },
    {
        title: "Orders",
        href: "/orders",
        isActive: currentPath === "orders",
    },
    {
        title: "Products",
        href: "/products",
        isActive: currentPath === "products",
    },
    {
        title: "Customers",
        href: "/customers",
        isActive: currentPath === "customers",
    },
    {
        title: "Analytics",
        href: "/analytics",
        isActive: currentPath === "analytics",
    },
];
---

<header
    class="sticky top-0 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6"
>
    <nav
        class="hidden flex-col gap-6 text-lg font-medium md:flex md:flex-row md:items-center md:gap-5 md:text-sm lg:gap-6"
    >
        <a
            href="/"
            class="flex items-center gap-2 text-lg font-semibold md:text-base"
        >
            <h1 class="text-2xl font-light">&gt;{title}</h1>
        </a>
        {
            navigation.map((nav) => (
                <a
                    href={nav.href}
                    class={`transition-colors hover:text-foreground ${
                        nav.isActive
                            ? "text-foreground"
                            : "text-muted-foreground"
                    }`}
                >
                    {nav.title}
                </a>
            ))
        }
    </nav>
    <MobileSidebar title={title} navigation={navigation} client:load />
    <div class="flex w-full items-center gap-4 md:ml-auto md:gap-2 lg:gap-4">
        <UserMenu client:load />
    </div>
</header>
